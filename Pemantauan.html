<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dasbor Monitoring Inkubator Telur Puyuh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: Aplikasi ini dirancang sebagai dasbor satu halaman (Single-Page Application) untuk menyajikan informasi dari laporan secara intuitif. Strukturnya dibagi menjadi tiga bagian utama: 1) Gambaran Umum Sistem, menampilkan visualisasi 3D dan spesifikasi teknis. 2) Dasbor Pemantauan Langsung, inti interaktif yang menampilkan data suhu dan kelembaban secara real-time melalui pengukur dan grafik tren. 3) Diagram dan Parameter, yang menjelaskan alur kerja sistem dan parameter operasional. Struktur ini dipilih untuk memandu pengguna dari pemahaman desain fisik ke pemantauan operasional, sehingga alur informasi menjadi logis dan mudah dicerna, mengubah laporan statis menjadi pengalaman yang dinamis dan informatif. -->
    <!-- Visualization & Content Choices: 1) Spesifikasi Sistem (Tujuan: Menginformasikan) -> Daftar terstruktur & visualisasi 3D (HTML/CSS) -> Interaksi: Hover untuk detail -> Justifikasi: Menyajikan data teknis yang padat secara visual dan mudah diakses. 2) Data Real-time (Suhu/Kelembaban) (Tujuan: Memantau) -> Pengukur Gauge (Chart.js Doughnut) & Angka Besar -> Interaksi: Pembaruan data otomatis -> Justifikasi: Memberikan status terkini secara cepat dan jelas. 3) Tren Data Historis (Tujuan: Menganalisis Perubahan) -> Grafik Garis (Chart.js Line Chart) -> Interaksi: Tooltip pada hover & pembaruan data -> Justifikasi: Memudahkan identifikasi pola dan stabilitas sistem dari waktu ke waktu. 4) Diagram Alur Kerja (Tujuan: Mengorganisir) -> Diagram alur (HTML/CSS) -> Interaksi: Hover untuk tooltip -> Justifikasi: Menjelaskan hubungan antar komponen secara visual. Semua visualisasi menggunakan Canvas melalui Chart.js atau HTML/CSS murni. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #4A4A4A;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
        .status-on {
            background-color: #4ADE80; /* green-400 */
        }
        .status-off {
            background-color: #9CA3AF; /* gray-400 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">Dasbor Sistem Monitoring Inkubator</h1>
            <p class="mt-2 text-lg text-gray-600">Visualisasi Desain dan Simulasi Data untuk Sarang Telur Puyuh</p>
        </header>

        <main class="space-y-12">
            
            <section id="overview" class="card p-6">
                 <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2">1. Gambaran Umum Sistem</h2>
                 <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-3">Spesifikasi Teknis</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start"><span class="font-semibold w-40">Kapasitas:</span><span>~ 150 butir telur</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Dimensi Eksterior:</span><span>120 x 80 x 60 cm</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Dimensi Interior:</span><span>80 x 70 x 50 cm</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Material Interior:</span><span>Aluminium foil untuk distribusi panas</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Sensor:</span><span>2 unit DHT11 (Suhu & Kelembaban)</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Pemanas:</span><span>Lampu Pemanas</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Sirkulasi:</span><span>Kipas</span></li>
                            <li class="flex items-start"><span class="font-semibold w-40">Display:</span><span>Panel Kontrol LCD</span></li>
                        </ul>
                    </div>
                    <div class="flex items-center justify-center p-4">
                        <div style="perspective: 1000px;">
                            <div class="relative w-64 h-40 md:w-80 md:h-48" style="transform-style: preserve-3d; transform: rotateX(-20deg) rotateY(-30deg);">
                                <div class="absolute w-full h-full bg-orange-100 border border-orange-300" style="transform: translateZ(40px);">
                                    <div class="absolute top-4 left-1/2 -translate-x-1/2 w-24 h-8 bg-gray-300 rounded border border-gray-400 flex items-center justify-center text-xs">PANEL LCD</div>
                                </div>
                                <div class="absolute w-20 h-full bg-orange-200 border border-orange-300" style="transform: rotateY(-90deg) translateZ(216px);">
                                    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-gray-300 rounded-full border border-gray-400"></div>
                                </div>
                                 <div class="absolute w-full h-20 bg-orange-200 border border-orange-300" style="transform: rotateX(90deg) translateZ(112px);"></div>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>

            <section id="monitoring" class="card p-6">
                <h2 class="text-2xl font-bold text-gray-700 mb-1">2. Dasbor Pemantauan Langsung</h2>
                <p class="text-gray-600 mb-6">Menampilkan data simulasi suhu dan kelembaban secara real-time dari dalam inkubator.</p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="card p-4 text-center border">
                        <h3 class="text-lg font-semibold text-gray-600">Status Sistem</h3>
                        <div class="mt-4 space-y-3 text-left">
                           <div class="flex items-center justify-between">
                               <span class="font-medium">Lampu Pemanas</span>
                               <div>
                                   <span id="heater-status-dot" class="status-dot status-off"></span>
                                   <span id="heater-status-text" class="ml-2 font-semibold">OFF</span>
                               </div>
                           </div>
                           <div class="flex items-center justify-between">
                               <span class="font-medium">Kipas Sirkulasi</span>
                               <div>
                                   <span id="fan-status-dot" class="status-dot status-on"></span>
                                   <span id="fan-status-text" class="ml-2 font-semibold">ON</span>
                               </div>
                           </div>
                        </div>
                    </div>
                    <div class="card p-4 text-center border">
                        <h3 class="text-lg font-semibold text-gray-600">Suhu Saat Ini</h3>
                        <div class="relative w-40 h-40 mx-auto">
                            <canvas id="tempGauge"></canvas>
                            <div id="temp-value" class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-orange-600">...</div>
                        </div>
                    </div>
                    <div class="card p-4 text-center border">
                        <h3 class="text-lg font-semibold text-gray-600">Kelembaban Saat Ini</h3>
                         <div class="relative w-40 h-40 mx-auto">
                            <canvas id="humidityGauge"></canvas>
                            <div id="humidity-value" class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-blue-600">...</div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-xl font-semibold text-gray-600 mb-3 text-center">Tren Data (2 Menit Terakhir)</h3>
                    <div class="chart-container">
                        <canvas id="historyChart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="diagram" class="card p-6">
                <h2 class="text-2xl font-bold text-gray-700 mb-1">3. Diagram & Parameter Operasional</h2>
                <p class="text-gray-600 mb-6">Alur kerja sistem dan parameter target yang ditetapkan untuk inkubasi optimal.</p>
                <div class="grid md:grid-cols-2 gap-8 items-start">
                    <div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-4">Diagram Alur Kerja</h3>
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <div class="w-1/3 text-center p-3 bg-blue-100 border border-blue-300 rounded-lg">Sensor DHT11</div>
                                <div class="flex-1 border-t-2 border-dashed border-gray-400 mx-2"></div>
                                <div class="w-1/3 text-center p-3 bg-indigo-100 border border-indigo-300 rounded-lg">Mikrokontroler</div>
                            </div>
                            <div class="h-8 flex justify-center">
                               <div class="border-l-2 border-dashed border-gray-400"></div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-1/3 text-center p-3 bg-orange-100 border border-orange-300 rounded-lg">Lampu Pemanas</div>
                                <div class="flex-1 border-t-2 border-dashed border-gray-400 mx-2"></div>
                                <div class="w-1/3 text-center p-3 bg-green-100 border border-green-300 rounded-lg">Kipas</div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-4">Parameter Target</h3>
                        <div class="bg-gray-50 p-4 rounded-lg border">
                            <ul class="space-y-3">
                                <li class="flex justify-between items-center">
                                    <span class="font-medium">Target Suhu:</span>
                                    <span class="font-bold text-lg text-orange-600">29°C - 30°C</span>
                                </li>
                                <li class="flex justify-between items-center">
                                    <span class="font-medium">Target Kelembaban:</span>
                                    <span class="font-bold text-lg text-blue-600">29% - 30%</span>
                                </li>
                            </ul>
                            <p class="text-xs text-gray-500 mt-4">Catatan: Target kelembaban ideal untuk penetasan biasanya lebih tinggi (55-65%). Nilai ini dapat disesuaikan pada sistem kontroler.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const TARGET_TEMP_MIN = 29.0;
            const TARGET_TEMP_MAX = 30.0;
            const TARGET_HUMIDITY_MIN = 29.0;
            const TARGET_HUMIDITY_MAX = 30.0;
            
            let currentTemp = 28.5;
            let currentHumidity = 31.0;

            const tempValueEl = document.getElementById('temp-value');
            const humidityValueEl = document.getElementById('humidity-value');
            const heaterStatusDot = document.getElementById('heater-status-dot');
            const heaterStatusText = document.getElementById('heater-status-text');
            const fanStatusDot = document.getElementById('fan-status-dot');
            const fanStatusText = document.getElementById('fan-status-text');

            const createGauge = (ctx, label, color, max) => {
                return new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [0, max],
                            backgroundColor: [color, '#E5E7EB'],
                            borderColor: ['#FFFFFF'],
                            borderWidth: 2,
                            circumference: 180,
                            rotation: 270,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            tooltip: { enabled: false }
                        },
                        cutout: '75%',
                    }
                });
            };
            
            const tempGauge = createGauge(document.getElementById('tempGauge').getContext('2d'), 'Suhu', '#F97316', 40);
            const humidityGauge = createGauge(document.getElementById('humidityGauge').getContext('2d'), 'Kelembaban', '#2563EB', 100);

            const historyChartCtx = document.getElementById('historyChart').getContext('2d');
            const historyChart = new Chart(historyChartCtx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Suhu (°C)',
                            data: [],
                            borderColor: '#F97316',
                            backgroundColor: 'rgba(249, 115, 22, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y'
                        },
                        {
                            label: 'Kelembaban (%)',
                            data: [],
                            borderColor: '#2563EB',
                            backgroundColor: 'rgba(37, 99, 235, 0.1)',
                            fill: true,
                            tension: 0.4,
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Waktu' }
                        },
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: { display: true, text: 'Suhu (°C)' },
                            min: 25,
                            max: 35
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: { display: true, text: 'Kelembaban (%)' },
                            min: 20,
                            max: 40,
                            grid: {
                                drawOnChartArea: false,
                            },
                        },
                    },
                    plugins: {
                        legend: { position: 'top' }
                    }
                }
            });

            function updateSystemStatus() {
                if (currentTemp < TARGET_TEMP_MIN) {
                    heaterStatusDot.classList.remove('status-off');
                    heaterStatusDot.classList.add('status-on');
                    heaterStatusText.textContent = 'ON';
                } else {
                    heaterStatusDot.classList.remove('status-on');
                    heaterStatusDot.classList.add('status-off');
                    heaterStatusText.textContent = 'OFF';
                }
                
                fanStatusDot.classList.add('status-on');
                fanStatusText.textContent = 'ON';
            }

            function updateUI() {
                tempValueEl.textContent = `${currentTemp.toFixed(1)}°C`;
                humidityValueEl.textContent = `${currentHumidity.toFixed(1)}%`;

                tempGauge.data.datasets[0].data[0] = currentTemp;
                tempGauge.data.datasets[0].data[1] = 40 - currentTemp;
                tempGauge.update();

                humidityGauge.data.datasets[0].data[0] = currentHumidity;
                humidityGauge.data.datasets[0].data[1] = 100 - currentHumidity;
                humidityGauge.update();

                const now = new Date();
                const timeLabel = `${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}:${now.getSeconds().toString().padStart(2,'0')}`;
                
                if (historyChart.data.labels.length > 20) {
                    historyChart.data.labels.shift();
                    historyChart.data.datasets[0].data.shift();
                    historyChart.data.datasets[1].data.shift();
                }
                historyChart.data.labels.push(timeLabel);
                historyChart.data.datasets[0].data.push(currentTemp);
                historyChart.data.datasets[1].data.push(currentHumidity);
                historyChart.update();
                
                updateSystemStatus();
            }

            function simulateData() {
                let tempChange = (Math.random() - 0.5) * 0.2;
                if (currentTemp < TARGET_TEMP_MIN) {
                    tempChange = Math.random() * 0.15;
                } else if (currentTemp > TARGET_TEMP_MAX) {
                    tempChange = -(Math.random() * 0.15);
                }
                currentTemp += tempChange;

                let humidityChange = (Math.random() - 0.5) * 0.3;
                currentHumidity += humidityChange;
                
                if(currentTemp > 35) currentTemp = 35;
                if(currentTemp < 25) currentTemp = 25;
                if(currentHumidity > 40) currentHumidity = 40;
                if(currentHumidity < 20) currentHumidity = 20;


                updateUI();
            }

            setInterval(simulateData, 3000);
            simulateData();
        });
    </script>
</body>
</html>
